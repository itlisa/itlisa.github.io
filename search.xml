<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/2020/06/04/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>实现一个对话框支持拖拽</title>
    <url>/2020/06/05/dragBox/</url>
    <content><![CDATA[<p>面试中经常会被问到有没有做过类似模态框的拖拽行为，当时脑子里面没有一个具体的实现方向，大致思路，其实自己静下心动手实践一下也不难，了解如何去操作，实现逻辑屡清楚了基本离成功就不远了，需要注意的事，这里面涉及到很多细节问题，比如获取鼠标点击位置距离wrap的一个相对位置，wrap自身的一个宽度获取，有滚动条的时候，对于滚动距离的获取等等，这些一定要弄清楚了。</p>
<a id="more"></a>

<blockquote>
<p> <strong>创建一个dialog类，实现一个dialog对话框，可拖拽</strong></p>
</blockquote>
<p>效果图</p>
<p><img src="https://b3logfile.com/file/2020/06/1-a4f64515.png" alt="1.png"></p>
<p><img src="https://b3logfile.com/file/2020/06/2-f2a4be67.png" alt="2.png"></p>
<p><img src="https://b3logfile.com/file/2020/06/3-ba32c5ee.png" alt="3.png"></p>
<p>具体实现如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dialog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(text) &#123;</span><br><span class="line">        <span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.isMoving = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.dialog = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>.box = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>.text = text || <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">this</span>.toLeft = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.toTop = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    open() &#123;</span><br><span class="line">        <span class="keyword">this</span>.dialog = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">        <span class="keyword">this</span>.dialog.style = <span class="string">`</span></span><br><span class="line"><span class="string">            width:200px;</span></span><br><span class="line"><span class="string">            height:100px;</span></span><br><span class="line"><span class="string">            padding:20px;</span></span><br><span class="line"><span class="string">            background-color:#ccc;</span></span><br><span class="line"><span class="string">            position:absolute;</span></span><br><span class="line"><span class="string">            top:50%;</span></span><br><span class="line"><span class="string">            left:50%;</span></span><br><span class="line"><span class="string">            border-radius:4px;`</span>;</span><br><span class="line">        <span class="keyword">this</span>.dialog.innerText = <span class="keyword">this</span>.text;</span><br><span class="line">        <span class="keyword">this</span>.dialog.addEventListener(<span class="string">'click'</span>, ev =&gt; ev.stopPropagation());</span><br><span class="line">        <span class="keyword">this</span>.dialog.addEventListener(<span class="string">'mousedown'</span>, <span class="keyword">this</span>.handleMouseDown.bind(<span class="keyword">this</span>));</span><br><span class="line">        <span class="comment">// 这里需要注意，为了防止鼠标移动过快出现bug，将事件代理到document身上</span></span><br><span class="line">        <span class="built_in">document</span>.addEventListener(<span class="string">'mousemove'</span>, <span class="keyword">this</span>.handleMouseMove.bind(<span class="keyword">this</span>));</span><br><span class="line">        <span class="built_in">document</span>.addEventListener(<span class="string">'mouseup'</span>, <span class="keyword">this</span>.handleMouseUp.bind(<span class="keyword">this</span>));</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>.dialog);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    handleMouseDown(ev) &#123;</span><br><span class="line">        <span class="keyword">this</span>.isMoving = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// 鼠标按下的时候，生成一个框，给基础样式</span></span><br><span class="line">        <span class="comment">// 位置和原来的dom重合，加定位</span></span><br><span class="line">        <span class="keyword">this</span>.box = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">        <span class="keyword">this</span>.box.style = <span class="string">`</span></span><br><span class="line"><span class="string">            width:<span class="subst">$&#123;<span class="keyword">this</span>.dialog.offsetWidth&#125;</span>px;</span></span><br><span class="line"><span class="string">            height:<span class="subst">$&#123;<span class="keyword">this</span>.dialog.offsetHeight&#125;</span>px;</span></span><br><span class="line"><span class="string">            position:absolute;</span></span><br><span class="line"><span class="string">            top:<span class="subst">$&#123;<span class="keyword">this</span>.dialog.offsetTop&#125;</span>px;</span></span><br><span class="line"><span class="string">            left:<span class="subst">$&#123;<span class="keyword">this</span>.dialog.offsetLeft&#125;</span>px;</span></span><br><span class="line"><span class="string">            border:1px dashed #000;</span></span><br><span class="line"><span class="string">            border-radius:4px;</span></span><br><span class="line"><span class="string">        `</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(<span class="keyword">this</span>.box);</span><br><span class="line">        <span class="comment">// 鼠标按下的时候，记录鼠标点击的位置相对于div块的坐标</span></span><br><span class="line">        <span class="keyword">this</span>.x = ev.offsetX;</span><br><span class="line">        <span class="keyword">this</span>.y = ev.offsetY;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    handleMouseMove(ev) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.isMoving) &#123;</span><br><span class="line">            <span class="comment">// 有滚动条要把滚动条的距离算在内</span></span><br><span class="line">            <span class="keyword">let</span> scrollLeft = <span class="built_in">document</span>.documentElement.scrollLeft || <span class="built_in">document</span>.body.scrollLeft;</span><br><span class="line">            <span class="keyword">let</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// div跟着走的时候，需要把鼠标按下时的那个相对坐标算在内</span></span><br><span class="line">            <span class="keyword">this</span>.toLeft = ev.clientX + scrollLeft - <span class="keyword">this</span>.x;</span><br><span class="line">            <span class="keyword">this</span>.toTop = ev.clientY + scrollTop - <span class="keyword">this</span>.y;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 设置一下拖拽边界</span></span><br><span class="line">            <span class="keyword">let</span> maxLeft = <span class="built_in">window</span>.innerWidth + scrollLeft - <span class="keyword">this</span>.dialog.offsetWidth;</span><br><span class="line">            <span class="keyword">let</span> maxTop = <span class="built_in">window</span>.innerHeight + scrollTop - <span class="keyword">this</span>.dialog.offsetHeight;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.toLeft &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 如果left小于0，则置为0，防止div从左侧拖出</span></span><br><span class="line">                <span class="keyword">this</span>.toLeft = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.toLeft &gt; maxLeft) &#123;</span><br><span class="line">                <span class="comment">// 如果left值大于极限，则置为极限，防止div从右侧被拖出</span></span><br><span class="line">                <span class="keyword">this</span>.toLeft = maxLeft;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.toTop &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.toTop = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.toTop &gt; maxTop) &#123;</span><br><span class="line">                <span class="keyword">this</span>.toTop = maxTop;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 设置一下框的位置</span></span><br><span class="line">            <span class="keyword">this</span>.box.style.left = <span class="keyword">this</span>.toLeft + <span class="string">'px'</span>;</span><br><span class="line">            <span class="keyword">this</span>.box.style.top = <span class="keyword">this</span>.toTop + <span class="string">'px'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    handleMouseUp() &#123;</span><br><span class="line">        <span class="keyword">this</span>.a += <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 鼠标抬起的时候，设置一下div块的位置，跟到框所在的位置</span></span><br><span class="line">        <span class="keyword">this</span>.dialog.style.left = <span class="keyword">this</span>.toLeft + <span class="string">'px'</span>;</span><br><span class="line">        <span class="keyword">this</span>.dialog.style.top = <span class="keyword">this</span>.toTop + <span class="string">'px'</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.removeChild(<span class="keyword">this</span>.box);</span><br><span class="line">        <span class="comment">// 清除事件监听事件</span></span><br><span class="line">        <span class="built_in">document</span>.removeEventListener(<span class="string">'mousemove'</span>, <span class="keyword">this</span>.handleMouseMove);</span><br><span class="line">        <span class="built_in">document</span>.removeEventListener(<span class="string">'mouseup'</span>, <span class="keyword">this</span>.handleMouseUp);</span><br><span class="line">        <span class="keyword">this</span>.isMoving = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> dialog = <span class="keyword">new</span> Dialog(<span class="string">'hello'</span>);</span><br><span class="line">dialog.open();</span><br></pre></td></tr></table></figure>

<pre><code>这里的mousemove的监听对象修改为了document，否则如果我们拖拽速度太快会出现bug，即可能鼠标脱离了容器，然后这时就会出现问题，
只要将事件代理到了document身上就可以解决这个问题了。</code></pre>]]></content>
      <tags>
        <tag>diolag拖拽</tag>
      </tags>
  </entry>
  <entry>
    <title>编程题（一）</title>
    <url>/2020/06/04/%E7%BC%96%E7%A8%8B1/</url>
    <content><![CDATA[<p>最近迷上做js算法题了，哈哈哈，以后会持续更新我做过比较经典有意思的算法题，我目前只做一些比较基础的，查缺补漏，感觉自己的js基础还是欠缺，勤能补拙，先把地基打好才能盖出好房子，你说是吧~~</p>
<a id="more"></a>

<blockquote>
<p><strong>数组降维</strong></p>
</blockquote>
<p>将多维数组降成一维数组结构</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_myFlat</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="comment">// 判断当前元素是否是数组</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(arr[i])) &#123;</span><br><span class="line">            <span class="comment">// arguments.callee（）：匿名函数的递归调用，保证函数的封装性，与函数名解耦</span></span><br><span class="line">            res = res.concat(<span class="built_in">arguments</span>.callee(arr[i]));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res = res.concat(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(_myFlat([<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, [<span class="number">5</span>, [<span class="number">6</span>, [<span class="number">8</span>]]]])); <span class="comment">// [1,2,4,5,6,8]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>数组对象方法扩展</strong></p>
</blockquote>
<p>题目描述：<br>已知数组 data= [{ name: ‘低风险’, value: 300 }, { name: ‘中风险’, value: 230 }, { name: ‘高风险’, value: 409 }]；<br>获取指定key值所对应的value数组</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getName = <span class="function"><span class="keyword">function</span>(<span class="params">arr, key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr) || !key) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"param is error"</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> res = [];</span><br><span class="line">    arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (item[key]) &#123;</span><br><span class="line">            res.push(item[key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = [&#123;</span><br><span class="line">    name: <span class="string">'低风险'</span>,</span><br><span class="line">    value: <span class="number">300</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: <span class="string">'中风险'</span>,</span><br><span class="line">    value: <span class="number">230</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: <span class="string">'高风险'</span>,</span><br><span class="line">    value: <span class="number">409</span></span><br><span class="line">&#125;];</span><br><span class="line"><span class="keyword">let</span> names = getName(data, <span class="string">"name"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(names); <span class="comment">// ["低风险", "中风险", "高风险"]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>函数防抖/节流</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 函数防抖</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 就是指触发事件后，在 n 秒内函数只能执行一次，如果触发事件后在 n 秒内又触发了事件，则会重新计算函数延执行时间。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 常见需要防抖事件 onresize，scroll，mousemove ,mousehover</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timer !== <span class="literal">null</span>) &#123;</span><br><span class="line">            clearTimeout(timer);</span><br><span class="line">        &#125;;</span><br><span class="line">        timer = setTimeout(fn, wait)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random())</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>, debounce(handle, <span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> + 函数节流</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 作用：减少代码执行次数，提升网页性能 </span></span><br><span class="line"><span class="comment"> 函数节流使用场景： oninput/ onmousemove /onscroll /onresize 等事件</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> + 1 搜索框搜索输入，只需用户最后一次输入完，再发送请求</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> + 2 防止用户多次点击提交表单</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!flag) <span class="keyword">return</span>;</span><br><span class="line">    flag = <span class="literal">false</span>;</span><br><span class="line">    timer &amp;&amp; clearTimeout(timer);</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'resize'</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>二分查找算法</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">search</span>(<span class="params">arr, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> max = arr.length - <span class="number">1</span>, <span class="comment">//最大值</span></span><br><span class="line">        min = <span class="number">0</span>; <span class="comment">//最小值</span></span><br><span class="line">    <span class="keyword">while</span> (min &lt;= max) &#123;</span><br><span class="line">        <span class="keyword">var</span> mid = <span class="built_in">Math</span>.floor((max + min) / <span class="number">2</span>); <span class="comment">//中间值</span></span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; data) &#123;</span><br><span class="line">            min += <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &gt; data) &#123;</span><br><span class="line">            max -= <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>; <span class="comment">//没找到返回-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// console.log(search([1, 2, 3, 4, 8], 8));</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>冒泡排序</strong></p>
</blockquote>
<p>原理<br>依次比较相邻的两个值，如果后面的比前面的小，则将小的元素排到前面。依照这个规则进行多次并且递减的迭代，直到顺序正确。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 利用双层循环实现</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j + <span class="number">1</span>] &lt; arr[j]) &#123;</span><br><span class="line">                <span class="keyword">let</span> temp = arr[j]; <span class="comment">// 将最大的值暂存</span></span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>]; <span class="comment">// 重新进行赋值</span></span><br><span class="line">                arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line">bubbleSort([<span class="number">1</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>]);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>快速排序</strong></p>
</blockquote>
<p>原理<br>从数组中选定一个基数，然后把数组中的每一项与此基数做比较，小的放入一个新数组，大的放入另外一个新数组。然后再采用这样的方法操作新数组。直到所有子集只剩下一个元素，排序完成。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125; <span class="comment">//判断数组，一个长度直接返回 </span></span><br><span class="line">    <span class="keyword">var</span> baseNum = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> left = [];</span><br><span class="line">    <span class="keyword">var</span> right = [];</span><br><span class="line">    <span class="keyword">var</span> mid = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &lt; baseNum) &#123;</span><br><span class="line">            left.push(arr[i])</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &gt; baseNum) &#123;</span><br><span class="line">            right.push(arr[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mid.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> quickSort(left).concat(mid, quickSort(right));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> _sort = quickSort([<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(_sort); <span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>插入排序</strong></p>
</blockquote>
<p>原理<br>快速排序类似于整理扑克牌，每次将下一个值和上一个值进行比较大小，然后互换位置，在小规模数据或者基本有序数据时特别高效.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[j - <span class="number">1</span>]) &#123;</span><br><span class="line">                temp = arr[j - <span class="number">1</span>];</span><br><span class="line">                arr[j - <span class="number">1</span>] = arr[j];</span><br><span class="line">                arr[j] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res = insertSort([<span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">32</span>, <span class="number">90</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">10</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(res) <span class="comment">// [0, 1, 2, 5, 7, 9, 10, 10, 10, 11, 32, 90]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>选择排序</strong></p>
</blockquote>
<p>原理<br>首先从原始数组中找到最小的元素，并把该元素放在数组的最前面，然后再从剩下的元素中寻找最小的元素，放在之前最小元素的后面，知道排序完毕。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> minIndex = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[min]) &#123;</span><br><span class="line">                minIndex = j;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">let</span> temp = arr[i];</span><br><span class="line">        arr[i] = arr[minIndex];</span><br><span class="line">        arr[minIndex] = temp;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(arr); <span class="comment">// [0, 1, 2, 3, 4, 6, 10]</span></span><br><span class="line">&#125;;</span><br><span class="line">selectSort([<span class="number">1</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//minIndex始终保存着最小值的位置的索引，随着i的自增，遍历的数组长度越来越短，直到完成排序。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>vue 实现双向绑定原理</strong></p>
</blockquote>
<p>vue2.x版本</p>
<p>vue实现数据双向绑定主要是：<br>采用数据劫持结合发布者-订阅者模式的方式，通过 <code>Object.defineProperty()</code> 来劫持各个属性的 <code>setter</code> ， <code>getter</code> ，在数据变动时发布消息给订阅者，触发相应监听回调。<br>当把一个普通 Javascript 对象传给 Vue 实例来作为它的 data 选项时，Vue 将遍历它的属性，用 <code>Object.defineProperty()</code> 将它们转为 <code>getter/setter</code> 。<br>用户看不到 <code>getter/setter</code> ，但是在内部它们让 Vue 追踪依赖，在属性被访问和修改时通知变化。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;; </span><br><span class="line"><span class="keyword">let</span> value = <span class="string">""</span>; </span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">"value"</span>, &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span>() &#123;</span><br><span class="line">	<span class="comment">// 读取值得时候会触发get操作</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"get"</span>)</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(newVal) &#123;</span><br><span class="line">	<span class="comment">// 修改对象的value值时触发set</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"set"</span>);</span><br><span class="line">        <span class="keyword">return</span> value = newVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;); </span><br><span class="line"></span><br><span class="line">obj.value = <span class="number">123</span>; <span class="comment">// 触发set</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.value); <span class="comment">// 触发get</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>数组降维 vue双向绑定原理  函数节流防抖 数组对象扩展  冒泡排序 快速排序 插入排序 选择排序 二分查找算法</tag>
      </tags>
  </entry>
  <entry>
    <title>编程题（二）</title>
    <url>/2020/06/05/%E7%BC%96%E7%A8%8B2/</url>
    <content><![CDATA[<p>平时喜欢做一些编程题，来扩展思维，把我平时练习中遇到的比较经典的题目以及我的解题思路放上来，大家可以一起学习交流，就当做是我的一个学习笔记吧！题目数量较多我会分批记录到我的博客上面来，文笔粗糙，只记录干货，这是编程题第二期分享.</p>
<a id="more"></a>

<blockquote>
<p><strong>绝对值最小</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">-98</span>, <span class="number">-22</span>, <span class="number">-8</span>, <span class="number">-3</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">33</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findMinAbsOfArr</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> newArr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        newArr.push(<span class="built_in">Math</span>.abs(a[i]));</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="built_in">Math</span>.min(...newArr);</span><br><span class="line">    <span class="keyword">let</span> index;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(a[i]) == num) &#123;</span><br><span class="line">            index = a.indexOf(a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> a[index];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(findMinAbsOfArr(a));</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>获取两个日期之间的有效日期</strong></p>
</blockquote>
<p>求两个日期中间的有效日期，如2015-2-8到2015-3-3</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rangeDays</span>(<span class="params">day1, day2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> time1 = <span class="keyword">new</span> <span class="built_in">Date</span>(day1).getTime(); <span class="comment">// 获取给定日期的毫秒数</span></span><br><span class="line">    <span class="keyword">const</span> time2 = <span class="keyword">new</span> <span class="built_in">Date</span>(day2).getTime();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> range = time2 - time1; <span class="comment">// 计算两个日期之间间隔毫秒数</span></span><br><span class="line">    <span class="keyword">const</span> dayTimes = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>; <span class="comment">// 获取一天的毫秒数</span></span><br><span class="line">    <span class="keyword">const</span> result = []</span><br><span class="line">    <span class="keyword">let</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (total &lt;= range &amp;&amp; range &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        result.push(<span class="keyword">new</span> <span class="built_in">Date</span>(time1 + total).toLocaleDateString().replace(<span class="regexp">/\//g</span>, <span class="string">'-'</span>));</span><br><span class="line">        total += dayTimes;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">rangeDays(<span class="string">"2015,2,8"</span>, <span class="string">"2015,3,3"</span>);</span><br></pre></td></tr></table></figure>

<p>这里有一个new Date().toLocalDateString()方法，返回返回该日期对象日期部分的字符串.<br>我还发现new Date(2015, 2, 8).getTime() 和new Date(‘2015, 2, 8’).getTime() 这两种写法返回的毫秒数不一样，经过试验，只有字符串日期返回的日期才是标准日期，大家可以试一下。</p>
<p>下面是对于js获取时间new Date()的相关介绍</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取指定月份天数，new一个日期对象时候传入(年份,月份,0)获取几号就可以了!</span></span><br><span class="line"><span class="keyword">let</span> days = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2020</span>, <span class="number">2</span>, <span class="number">0</span>).getDate(); <span class="comment">// 29 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">myDate.getYear(); <span class="comment">//获取当前年份(2位)</span></span><br><span class="line">myDate.getFullYear(); <span class="comment">//获取完整的年份(4位,1970-????)</span></span><br><span class="line">myDate.getMonth(); <span class="comment">//获取当前月份(0-11,0代表1月)         // 所以获取当前月份是myDate.getMonth()+1; </span></span><br><span class="line">myDate.getDate(); <span class="comment">//获取当前日(1-31)</span></span><br><span class="line">myDate.getDay(); <span class="comment">//获取当前星期X(0-6,0代表星期天)</span></span><br><span class="line">myDate.getTime(); <span class="comment">//获取当前时间(从1970.1.1开始的毫秒数)</span></span><br><span class="line">myDate.getHours(); <span class="comment">//获取当前小时数(0-23)</span></span><br><span class="line">myDate.getMinutes(); <span class="comment">//获取当前分钟数(0-59)</span></span><br><span class="line">myDate.getSeconds(); <span class="comment">//获取当前秒数(0-59)</span></span><br><span class="line">myDate.getMilliseconds(); <span class="comment">//获取当前毫秒数(0-999)</span></span><br><span class="line">myDate.toLocaleDateString(); <span class="comment">//获取当前日期 "2020/6/12"</span></span><br><span class="line"><span class="keyword">let</span> mytime = myDate.toLocaleTimeString(); <span class="comment">//获取当前时间 "上午1:17:20"</span></span><br><span class="line">myDate.toLocaleString(); <span class="comment">//获取日期与时间 "2020/6/12 上午1:17:45"</span></span><br><span class="line"></span><br><span class="line">JS获取当前时间戳</span><br><span class="line"><span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"></span><br><span class="line">将字符串形式的日期转换成日期对象</span><br><span class="line"><span class="keyword">var</span> strTime = <span class="string">"2011-04-16"</span>; <span class="comment">//字符串日期格式           </span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.parse(strTime.replace(<span class="regexp">/-/g</span>, <span class="string">"/"</span>))); <span class="comment">// Date.parse(dateString) 隐式调用 new Date(dateString).getTime()；</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>() 参数说明：</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">//参数可以为整数; 也可以为字符串; 但格式必须正确</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2009</span>, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">//正确</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2009/1/1"</span>); <span class="comment">//正确</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2009-1-1"</span>); <span class="comment">//错误</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month, date, hrs, min, sec) <span class="comment">//按给定的参数创建一日期对象</span></span><br><span class="line"></span><br><span class="line">日期对象比较两个日期</span><br><span class="line"><span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">myDate.setFullYear(<span class="number">2020</span>, <span class="number">6</span>, <span class="number">6</span>);</span><br><span class="line"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">if</span> (myDate &gt; today) &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>字符串数组排序</strong></p>
</blockquote>
<p>题目描述：<br>在一个字符串中有红、黄、蓝三种颜色的球，且个数不相等，顺序不一致，请为该数组排序。使得排序后数组中球的顺序为：黄、红、蓝。<br>例如：红蓝蓝黄红黄蓝红红黄红，排序后为：黄黄黄红红红红红蓝蓝蓝。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">方法一：</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">"红"</span>, <span class="string">"蓝"</span>, <span class="string">"蓝"</span>, <span class="string">"黄"</span>, <span class="string">"红"</span>, <span class="string">"黄"</span>, <span class="string">"蓝"</span>, <span class="string">"蓝"</span>, <span class="string">"蓝"</span>];</span><br><span class="line"><span class="keyword">const</span> res = [];</span><br><span class="line"><span class="keyword">const</span> yellow = [],</span><br><span class="line">    red = [],</span><br><span class="line">    blue = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] === <span class="string">"黄"</span>) &#123;</span><br><span class="line">        yellow.push(arr[i])</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] === <span class="string">"红"</span>) &#123;</span><br><span class="line">        red.push(arr[i])</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        blue.push(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">res.push(...yellow, ...red, ...blue);</span><br><span class="line"><span class="built_in">console</span>.log(res);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">方法二：</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">"红"</span>, <span class="string">"蓝"</span>, <span class="string">"蓝"</span>, <span class="string">"黄"</span>, <span class="string">"红"</span>, <span class="string">"黄"</span>, <span class="string">"蓝"</span>, <span class="string">"蓝"</span>, <span class="string">"蓝"</span>];</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="string">"黄"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">"红"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">"蓝"</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line">arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> obj[a] - obj[b]);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>

<p>方法一是我写的，方法二是看了别人的解题思路，果然是高级，其实一开始我也想通过hash对象映射，通过数字大小进行排序，但是没有深入去想，直接写了一个，性能上面肯定不如方法二，大家可以自己试着做一下。</p>
<blockquote>
<p><strong>求多个数组之间的交集</strong></p>
</blockquote>
<p>例子：let a = [1, 2, 3]; let b = [3, 4, 5]; 交集 = [3]; </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">方法一：</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>， <span class="number">3</span>]); <span class="comment">// 先去重</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">2</span>, <span class="number">2</span>， <span class="number">3</span>, <span class="number">4</span>]);</span><br><span class="line"><span class="keyword">let</span> res = [...a].filter(<span class="function"><span class="params">item</span> =&gt;</span> b.has(item));</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure>

<p>方法二：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> c = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> handle = <span class="function">(<span class="params">...arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">acc, cur</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> acc.filter(<span class="function"><span class="params">item</span> =&gt;</span> cur.includes(item));</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// console.log(handle(a, b, c))</span></span><br><span class="line">handle(a, b, c);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>数字分割</strong></p>
</blockquote>
<p>题目描述：<br>将 ‘1000000000’形式的字符串，以每3位进行分割展示 ‘1000.000.000’, 多种实现方式</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1000000000.</span>.toLocalString(); <span class="comment">// 1000,000,000</span></span><br><span class="line"><span class="number">1000000000.</span>.toLocalString(<span class="string">'de-DE'</span>); <span class="comment">// 1000.000.000 德国通过 .分割金钱</span></span><br><span class="line"></span><br><span class="line"><span class="number">1000000000.</span>.toLocalString().replace(<span class="string">'/,/g'</span>, <span class="string">'.'</span>); <span class="comment">// 1000.000.000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面这种实现方式有些繁琐，不推荐，思路放上来供大家参考</span></span><br><span class="line"><span class="keyword">const</span> _splitNumber = <span class="function">(<span class="params">num</span>)=&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> nums = num.toString();</span><br><span class="line">    <span class="keyword">let</span> len = ~~(nums.length / <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">let</span> res = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        res = <span class="string">'.'</span> + nums.slice(<span class="number">-3</span>) + res;</span><br><span class="line">        nums = nums.slice(<span class="number">0</span>, nums.length - <span class="number">3</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (nums) &#123;</span><br><span class="line">        res = nums + res;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> newNum = _splitNumber(<span class="number">1000000000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newNum); <span class="comment">// 1000.000.000</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>绝对值最小 日期对象 字符串数组排序 数组交集</tag>
      </tags>
  </entry>
  <entry>
    <title>canvas绘制多边形</title>
    <url>/2020/06/06/canvas%E7%BB%98%E5%88%B6%E5%A4%9A%E8%BE%B9%E5%BD%A2/</url>
    <content><![CDATA[<blockquote>
<p><strong>canvas绘制多边形</strong></p>
</blockquote>
<p>canvas封装绘制多边形方法，通过传参来实现绘制图形的定制需要。</p>
<a id="more"></a>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// html部分</span></span><br><span class="line">&lt;canvas width = <span class="number">400</span> height = <span class="number">400</span> id = <span class="string">"canvas"</span> &gt; &lt;<span class="regexp">/canvas&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// js部分</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">angleToRadian</span>(<span class="params">angle</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 角度转弧度</span></span><br><span class="line">    <span class="keyword">return</span> angle * <span class="built_in">Math</span>.PI / <span class="number">180</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 参数说明：</span></span><br><span class="line"><span class="comment">* side:边数</span></span><br><span class="line"><span class="comment">* r: 半径</span></span><br><span class="line"><span class="comment">* offsetX:圆心默认在画布左上角，需要将圆心移动到画布中间，这是水平方向上的移动距离</span></span><br><span class="line"><span class="comment">* offsetY:这是垂直方向移动距离</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAxisPoints</span>(<span class="params">side, r, offsetX, offsetY</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">        &#123;side&#125; 几边形</span></span><br><span class="line"><span class="comment">        &#123;r&#125; 半径</span></span><br><span class="line"><span class="comment">        &#123;offsetX&#125; x轴偏移距离</span></span><br><span class="line"><span class="comment">        &#123;offsetY&#125; y轴偏移距离</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">var</span> angle = <span class="number">360</span> / side; <span class="comment">// 每条边所占角度</span></span><br><span class="line">    <span class="keyword">var</span> axisArr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; side; i++) &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * 求出每个顶点坐标 angle为弧度值；</span></span><br><span class="line"><span class="comment">         * x = r * Math.cos(angle);  </span></span><br><span class="line"><span class="comment">         * y = r * Math.sin(angle); </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">var</span> x = offsetX + <span class="built_in">Math</span>.cos(angleToRadian(angle * (i + <span class="number">1</span>))) * r;</span><br><span class="line">        <span class="keyword">var</span> y = offsetY + <span class="built_in">Math</span>.sin(angleToRadian(angle * (i + <span class="number">1</span>))) * r;</span><br><span class="line">        axisArr.push(&#123;</span><br><span class="line">            x,</span><br><span class="line">            y</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> axisArr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _axisArr = getAxisPoints(<span class="number">3</span>, <span class="number">150</span>, <span class="number">200</span>, <span class="number">200</span>); <span class="comment">// 取到多边形顶点坐标</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> txt = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">txt.beginPath();</span><br><span class="line">txt.moveTo(_axisArr[<span class="number">0</span>].x, _axisArr[<span class="number">0</span>].y);</span><br><span class="line">_axisArr.map(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        txt.lineTo(_axisArr[index].x, _axisArr[index].y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">txt.lineTo(_axisArr[<span class="number">0</span>].x, _axisArr[<span class="number">0</span>].y);</span><br><span class="line">txt.strokeStyle = <span class="string">"#000"</span>;</span><br><span class="line">txt.stroke();</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>canvas 多边形</tag>
      </tags>
  </entry>
  <entry>
    <title>webpack打包时遇到的问题以及解决办法</title>
    <url>/2020/06/09/webpack%E6%89%93%E5%8C%85%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<blockquote>
<p><strong>webpack打包时遇到的问题以及解决方案</strong></p>
</blockquote>
<a id="more"></a>
<p>以下是我的webpack相关配置项</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>); <span class="comment">// 引入path path是nodejs内置的package，用来处理路径的</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>); <span class="comment">// html自动打包工具</span></span><br><span class="line"><span class="keyword">const</span> uglifyjsWbpackPlugin = <span class="built_in">require</span>(<span class="string">"uglifyjs-webpack-plugin"</span>); <span class="comment">// js 打包工具</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        filename: <span class="string">"bundle.js"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        open: <span class="literal">true</span>,</span><br><span class="line">        port: <span class="number">8888</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                use: <span class="string">'babel-loader'</span>,</span><br><span class="line">                include: <span class="regexp">/src/</span>, <span class="comment">// 只转化src目录下的js</span></span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span> <span class="comment">// 排除掉node_modules，优化打包速度</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                use: [<span class="string">"style-loader"</span>, <span class="string">"css-loader"</span>, <span class="string">"postcss-loader"</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.(jpeg|png|gif|jpg)$/</span>,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">"file-loader"</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        name: <span class="string">"images/[name].[ext]"</span>,</span><br><span class="line">                        esModule: <span class="literal">false</span> <span class="comment">// 关闭es 模块语法</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: path.resolve(__dirname, <span class="string">"index.html"</span>),</span><br><span class="line">            filename: <span class="string">"index.html"</span></span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> uglifyjsWbpackPlugin() <span class="comment">// js压缩优化</span></span><br><span class="line">    ],</span><br><span class="line">    watch: <span class="literal">true</span> <span class="comment">// 监听文件改动并自动打包</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>问题一：</strong><br>css打包失败<br><strong>原因：</strong><br>经过调查发现css文件没有在js入口文件引入<br><strong>解决：</strong><br>在入口文件中引入css文件，require(“xxx.css”)；引入的css路径是相对路径</p>
<p><strong>问题二：</strong><br>css打包之后，页面控制台报错，”require is not defined”!<br><strong>原因：</strong><br>在index.html中引入的js还是打包之前的js, js中require css的写法浏览器不能识别， 因为浏览器本身不支持模块化的写法，所以需要借助webpack进行模块化处理，<br><strong>解决：</strong><br>这里引入打包之后的文件即可。</p>
<p><strong>问题三</strong><br>js中引入图片文件报错404找不到</p>
<p><img src="https://b3logfile.com/file/2020/06/img2-f474997d.png" alt="img2.png"></p>
<p><strong>原因</strong><br>file-loader能自动识别CSS代码中的图片路径并将其打包至指定目录，但是JS不行，为什么呢？<br>正常情况下，不使用webpack打包，路径正确图片是可以正常显示的，使用webpack打包之后，Webpack并不知道’./static/img/cat.jpeg’是一张图片，<br><strong>解决</strong><br>需要先将图片资源加载进来，然后再将其作为图片路径添加至图片对象。</p>
<p><img src="https://b3logfile.com/file/2020/06/img1-8e04d57b.png" alt="img1.png"></p>
<p><strong>问题四：</strong><br>打包之后图片无法正常显示，控制台也不报错<br><strong>原因：</strong><br>webpack配置文件中，我同时引用file-loader和url-loader两种打包工具，两者冲突<br><strong>解决：</strong><br>删除一个即可</p>
<p><strong>问题五：</strong><br>js中引入图片路径报错输出[object-module]<br><strong>原因：</strong><br>我是用file-loader打包的<br>file-loader在新版本中esModule属性默认为true 即默认使用ES模块语法 导致了造成了引用图片文件的方式和以前的版本不一样 引入路径改变了 自然找不到图片；<br>需要注意的是，如果你用的是url-loader, 同样也会存在这个问题，url-loader内部封装了file-loader<br><strong>解决：</strong><br>在webpack的配置文件webpack.config.js中 修改esModule: false 关闭ES模块语法即可</p>
<blockquote>
<p><strong>css之loader加载注意事项</strong></p>
</blockquote>
<p>其中CSS文件的打包需要用到css-loader和style-loader两个loader，css-loader只是用于加载css文件（并没有添加到页面），而style-loader则是将打包后的css代码以<code>&lt;style&gt;</code>标签形式添加到页面头部。针对css文件使用的loader，注意有先后顺序，数组项越靠后越先执行</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">module</span>:&#123;</span><br><span class="line">    rules:[&#123;</span><br><span class="line">        test:<span class="regexp">/\.css$/</span>,</span><br><span class="line">        use:[<span class="string">"style-loader"</span>, <span class="string">"css-loader"</span>, <span class="string">"postcss-loader"</span>]</span><br><span class="line">    &#125;]</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>打包图片保持图片名不变，并添加到指定目录</strong></p>
</blockquote>
<p>file-loader 默认将图片转成base64格式，如何才能保持图片名不变，而且也能够添加到指定目录下呢？我们只需要再添加一个options属性即可：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.(png|jpg|gif|svg)$/</span>,</span><br><span class="line">    loader: <span class="string">'file-loader'</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">        name: <span class="string">'images/[name].[ext]'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中name属性其实就是图片打包后的路径，其中包括图片名（[name]）和图片格式（[ext]）。<br>还有一种打包方式url-loader,这里limit属性的作用就是将小于8192B（8.192K）大小的图片转成base64格式，而大于这个大小的图片将会以file-loader的方式进行打包处理,如果不写limit属性，那么url-loader就会默认将所有图片转成base64。</p>
<pre><code class="javascript">{
    test: <span class="regexp">/\.(png|jpg|gif|svg)$/</span>,
    loader: <span class="string">'url-loader'</span>,
    options: {
        name: <span class="string">'images/[name].[ext]'</span>,
        limit: <span class="number">8192</span>
    }
}</code></pre>
<blockquote>
<p><strong>webpack之watch</strong></p>
</blockquote>
<p>可实现相关源文件改变后自动更新bundle.js文件的功能。在配置文件中添加 watch:true 或执行 webpack -w，即可开启watch功能；测试发现，与（一个或多个）bundle.js有关的所有js、css等模块发生变化，就会自动执行打包，更新硬盘上的bundle.js文件。</p>
<blockquote>
<p><strong>webpack之webpack-dev-server</strong></p>
</blockquote>
<p>webpack-dev-server默认开启以上的监视功能。但两者监视效果存在差异：<br>1.webpack-dev-server自带的监视自动打包功能，新打包的文件存在于内存中，对硬盘上的bundle.js无影响。新文件的内存路径与配置文件中的publicPath相关，如<a href="http://localhost:8080/{publicPath}/bundle.js" target="_blank" rel="noopener">http://localhost:8080/{publicPath}/bundle.js</a><br>2.手动执行webpack -w来启动的watch效果，会修改硬盘上的bundle.js文件</p>
<blockquote>
<p><strong>打包后的dist目录如下：</strong></p>
</blockquote>
<p><img src="https://b3logfile.com/file/2020/06/dist-ba510e0d.png" alt="dist.png"></p>
]]></content>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
</search>
